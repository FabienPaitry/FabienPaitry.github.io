var BlindTest=function(a){this.dataSet=a,this.checkAnswer=function(a,b){return serieName=this.dataSet[b],similarity=this.compare(a,serieName),console.log(a+" "+serieName+" "+similarity),similarity>=75},this.compare=function(a,b){if(0==a.length)return b.length;if(0==b.length)return a.length;var d,c=[];for(d=0;d<=b.length;d++)c[d]=[d];var e;for(e=0;e<=a.length;e++)c[0][e]=e;for(d=1;d<=b.length;d++)for(e=1;e<=a.length;e++)b.charAt(d-1)==a.charAt(e-1)?c[d][e]=c[d-1][e-1]:c[d][e]=Math.min(c[d-1][e-1]+1,Math.min(c[d][e-1]+1,c[d-1][e]+1));return distance=c[b.length][a.length],100*(1-distance/Math.max(b.length,a.length))}};!function(a){blindTest=new BlindTest({1:"strangerthings",2:"narcos",3:"vikings",4:"breakingbad"}),a("form").on("submit",function(a){a.preventDefault()}),a("form").submit(function(){return answerInput=a(this).find("input[name=answer]"),answer=answerInput.val().replace(/ /g,"").toLowerCase(),step=a(this).find("input[name=step]").val(),isValid=blindTest.checkAnswer(answer,step),isValid?(a("audio").trigger("pause"),a(this).parent().parent().find(".question").hide(),a(this).parent().parent().find(".gift").show()):(answerInput.focus(),answerInput.addClass("error"),answerInput.val("")),console.log(answer+" "+isValid),!1}),a("input[name=answer]").on("focus",function(){a(this).removeClass("error")}),skel.breakpoints({large:"(max-width: 1680px)",medium:"(max-width: 980px)",small:"(max-width: 736px)",xsmall:"(max-width: 480px)"}),a(function(){var b=a(window),c=a("body"),d=a("html");if(d.addClass("is-loading"),b.on("load",function(){window.setTimeout(function(){d.removeClass("is-loading")},0)}),skel.vars.mobile){var e;c.wrapInner('<div id="wrapper" />'),e=a("#wrapper"),"ios"==skel.vars.os&&e.css("margin-top",-25).css("padding-bottom",25),e.on("scroll",function(){b.trigger("scroll")}),b.on("load.hl_scrolly",function(){a(".scrolly").scrolly({speed:1500,parent:e,pollOnce:!0}),b.off("load.hl_scrolly")}),d.addClass("is-touch")}else a(".scrolly").scrolly({speed:1500});a("form").placeholder(),skel.on("+medium -medium",function(){a.prioritize(".important\\28 medium\\29",skel.breakpoint("medium").active)});var f=a("#header"),g=f.find("header");f.find(".container");skel.vars.mobile||b.on("load.hl_headerTitle",function(){skel.on("-medium !medium",function(){g.css("position","fixed").css("height","auto").css("top","50%").css("left","0").css("width","100%").css("margin-top",g.outerHeight()/-2)}),skel.on("+medium",function(){g.css("position","").css("height","").css("top","").css("left","").css("width","").css("margin-top","")}),b.off("load.hl_headerTitle")}),skel.on("-small !small",function(){f.scrollex({terminate:function(){g.css("opacity","")},scroll:function(a){a>.5?x=1-a:x=a,g.css("opacity",Math.max(0,Math.min(1,2*x)))}})}),skel.on("+small",function(){f.unscrollex()})})}(jQuery);