var BlindTest=function(e){this.dataSet=e,this.checkAnswer=function(e,n){return serieName=this.dataSet[n],similarity=this.compare(e,serieName),console.log(e+" "+serieName+" "+similarity),similarity>=75?!0:!1},this.compare=function(e,n){if(0==e.length)return n.length;if(0==n.length)return e.length;var s,i=[];for(s=0;s<=n.length;s++)i[s]=[s];var t;for(t=0;t<=e.length;t++)i[0][t]=t;for(s=1;s<=n.length;s++)for(t=1;t<=e.length;t++)n.charAt(s-1)==e.charAt(t-1)?i[s][t]=i[s-1][t-1]:i[s][t]=Math.min(i[s-1][t-1]+1,Math.min(i[s][t-1]+1,i[s-1][t]+1));return distance=i[n.length][e.length],100*(1-distance/Math.max(n.length,e.length))}};!function(e){blindTest=new BlindTest({1:"strangerthings",2:"narcos",3:"vikings",4:"breakingbad"}),e("form").on("submit",function(e){e.preventDefault()}),e("form").submit(function(){return answerInput=e(this).find("input[name=answer]"),answer=answerInput.val().replace(/ /g,""),step=e(this).find("input[name=step]").val(),isValid=blindTest.checkAnswer(answer,step),isValid?(e("audio").trigger("pause"),e(this).parent().parent().find(".question").hide(),e(this).parent().parent().find(".gift").show()):(answerInput.addClass("error"),answerInput.val("")),console.log(answer+" "+isValid),!1}),e("input[name=answer]").on("focus",function(){e(this).removeClass("error")}),skel.breakpoints({large:"(max-width: 1680px)",medium:"(max-width: 980px)",small:"(max-width: 736px)",xsmall:"(max-width: 480px)"}),e(function(){var n=e(window),s=e("body"),i=e("html");if(i.addClass("is-loading"),n.on("load",function(){window.setTimeout(function(){i.removeClass("is-loading")},0)}),skel.vars.mobile){var t;s.wrapInner('<div id="wrapper" />'),t=e("#wrapper"),"ios"==skel.vars.os&&t.css("margin-top",-25).css("padding-bottom",25),t.on("scroll",function(){n.trigger("scroll")}),n.on("load.hl_scrolly",function(){e(".scrolly").scrolly({speed:1500,parent:t,pollOnce:!0}),n.off("load.hl_scrolly")}),i.addClass("is-touch")}else e(".scrolly").scrolly({speed:1500});e("form").placeholder(),skel.on("+medium -medium",function(){e.prioritize(".important\\28 medium\\29",skel.breakpoint("medium").active)});var a=e("#header"),o=a.find("header");a.find(".container");skel.vars.mobile||n.on("load.hl_headerTitle",function(){skel.on("-medium !medium",function(){o.css("position","fixed").css("height","auto").css("top","50%").css("left","0").css("width","100%").css("margin-top",o.outerHeight()/-2)}),skel.on("+medium",function(){o.css("position","").css("height","").css("top","").css("left","").css("width","").css("margin-top","")}),n.off("load.hl_headerTitle")}),skel.on("-small !small",function(){a.scrollex({terminate:function(){o.css("opacity","")},scroll:function(e){e>.5?x=1-e:x=e,o.css("opacity",Math.max(0,Math.min(1,2*x)))}})}),skel.on("+small",function(){a.unscrollex()})})}(jQuery);